# Cargar las bibliotecas necesarias
library(ggplot2)
library(dplyr)
# Crear datos de ventas ficticios para 12 meses
set.seed(123)
months <- seq.Date(from = as.Date("2023-01-01"), by = "month", length.out = 12)
# Generar ventas aleatorias para dos productos
sales_A <- cumsum(rnorm(12, mean = 50, sd = 10)) # Producto A
sales_B <- cumsum(rnorm(12, mean = 45, sd = 12)) # Producto B
# Crear un data frame
sales_data <- data.frame(
Month = months,
Product_A = sales_A,
Product_B = sales_B
)
# Graficar la divergencia entre las ventas de ambos productos
ggplot(sales_data, aes(x = Month)) +
geom_line(aes(y = Product_A, color = "Producto A"), size = 1.2) +
geom_line(aes(y = Product_B, color = "Producto B"), size = 1.2) +
geom_ribbon(aes(ymin = pmin(Product_A, Product_B), ymax = pmax(Product_A, Product_B), fill = ifelse(Product_A > Product_B, "Divergencia Positiva", "Divergencia Negativa")), alpha = 0.2) +
scale_color_manual(values = c("Producto A" = "blue", "Producto B" = "red")) +
scale_fill_manual(values = c("Divergencia Positiva" = "green", "Divergencia Negativa" = "orange")) +
labs(title = "Divergencia en Ventas de Productos A y B",
x = "Mes",
y = "Ventas Acumuladas",
fill = "Tipo de Divergencia",
color = "Producto") +
theme_minimal() +
theme(legend.position = "top")
# Cargar las bibliotecas necesarias
library(ggplot2)
library(dplyr)
# Crear datos de ventas ficticios para 12 meses
set.seed(123)
months <- seq.Date(from = as.Date("2023-01-01"), by = "month", length.out = 12)
# Generar ventas aleatorias para dos productos
sales_A <- cumsum(rnorm(12, mean = 50, sd = 10)) # Producto A
sales_B <- cumsum(rnorm(12, mean = 45, sd = 12)) # Producto B
# Crear un data frame
sales_data <- data.frame(
Month = months,
Product_A = sales_A,
Product_B = sales_B
)
# Crear una columna para la divergencia (diferencia entre ventas)
sales_data <- sales_data %>%
mutate(Divergence = Product_A - Product_B)
# Graficar área apilada para mostrar divergencia
ggplot(sales_data, aes(x = Month)) +
geom_area(aes(y = Product_A, fill = "Producto A"), alpha = 0.6) +
geom_area(aes(y = Product_B, fill = "Producto B"), alpha = 0.6) +
scale_fill_manual(values = c("Producto A" = "blue", "Producto B" = "red")) +
labs(title = "Divergencia en Ventas de Productos A y B",
x = "Mes",
y = "Ventas Acumuladas",
fill = "Producto") +
theme_minimal() +
theme(legend.position = "top")
# Cargar las bibliotecas necesarias
library(ggplot2)
library(dplyr)
# Crear datos de ventas ficticios para 12 meses
set.seed(123)
months <- seq.Date(from = as.Date("2023-01-01"), by = "month", length.out = 12)
# Generar ventas aleatorias para dos productos
sales_A <- cumsum(rnorm(12, mean = 50, sd = 10)) # Producto A
sales_B <- cumsum(rnorm(12, mean = 45, sd = 12)) # Producto B
# Crear un data frame
sales_data <- data.frame(
Month = months,
Product_A = sales_A,
Product_B = sales_B
)
# Crear una columna para la divergencia (diferencia entre ventas)
sales_data <- sales_data %>%
mutate(Divergence = Product_A - Product_B)
# Graficar área apilada para mostrar divergencia
ggplot(sales_data, aes(x = Month)) +
geom_area(aes(y = Product_A, fill = "Producto A"), alpha = 0.6) +
geom_area(aes(y = Product_B, fill = "Producto B"), alpha = 0.6) +
scale_fill_manual(values = c("Producto A" = "blue", "Producto B" = "red")) +
labs(title = "Divergencia en Ventas de Productos A y B",
x = "Mes",
y = "Ventas Acumuladas",
fill = "Producto") +
theme_minimal() +
theme(legend.position = "top")
# Cargar las bibliotecas necesarias
library(ggplot2)
library(dplyr)
# Crear datos de ventas ficticios para 12 meses
set.seed(123)
months <- seq.Date(from = as.Date("2023-01-01"), by = "month", length.out = 12)
# Generar ventas aleatorias para dos productos
sales_A <- cumsum(rnorm(12, mean = 50, sd = 10)) # Producto A
sales_B <- cumsum(rnorm(12, mean = 45, sd = 12)) # Producto B
# Crear un data frame
sales_data <- data.frame(
Month = months,
Product_A = sales_A,
Product_B = sales_B
)
# Crear una columna para la divergencia (diferencia entre ventas)
sales_data <- sales_data %>%
mutate(Divergence = Product_A - Product_B)
# Graficar área apilada para mostrar divergencia
ggplot(sales_data, aes(x = Month)) +
geom_area(aes(y = Product_A, fill = "Producto A"), alpha = 0.6) +
geom_area(aes(y = Product_B, fill = "Producto B"), alpha = 0.6) +
scale_fill_manual(values = c("Producto A" = "blue", "Producto B" = "red")) +
labs(title = "Divergencia en Ventas de Productos A y B",
x = "Mes",
y = "Ventas Acumuladas",
fill = "Producto") +
theme_minimal() +
theme(legend.position = "top")
# Cargar las bibliotecas necesarias
library(ggplot2)
library(dplyr)
# Crear datos ficticios para 12 meses
set.seed(123)
months <- seq.Date(from = as.Date("2023-01-01"), by = "month", length.out = 12)
# Generar datos de ventas proyectadas y realizadas
sales_projected <- seq(100, 300, length.out = 12)  # Ventas proyectadas
sales_realized <- sales_projected + rnorm(12, mean = 0, sd = 20)  # Ventas realizadas con desviación
# Crear un data frame
sales_data <- data.frame(
Month = months,
Proyectadas = sales_projected,
Realizadas = sales_realized
)
# Calcular la diferencia (divergencia)
sales_data <- sales_data %>%
mutate(Divergencia = Realizadas - Proyectadas)
# Graficar las ventas proyectadas vs realizadas con áreas de divergencia
ggplot(sales_data, aes(x = Month)) +
geom_line(aes(y = Proyectadas, color = "Proyectadas"), size = 1.2) +
geom_line(aes(y = Realizadas, color = "Realizadas"), size = 1.2) +
geom_ribbon(aes(ymin = pmin(Proyectadas, Realizadas),
ymax = pmax(Proyectadas, Realizadas),
fill = ifelse(Divergencia > 0, "Exceso", "Déficit")),
alpha = 0.3) +
scale_color_manual(values = c("Proyectadas" = "blue", "Realizadas" = "green")) +
scale_fill_manual(values = c("Exceso" = "green", "Déficit" = "red")) +
labs(title = "Comparación de Ventas Realizadas vs Proyectadas",
x = "Mes",
y = "Ventas",
color = "Línea",
fill = "Divergencia") +
theme_minimal() +
theme(legend.position = "top")
# Definir la ruta donde se guardará el archivo
ruta <- "C:/Users/Acer/Downloads/Rodrigo/visualización de datos/Day05-diverging/sales_data.csv"
# Guardar el data frame en formato CSV con codificación UTF-8
write.csv(sales_data, ruta, row.names = FALSE, fileEncoding = "UTF-8")
# Definir la ruta donde se guardará el archivo
ruta <- "C:/Users/Acer/Downloads/Rodrigo/visualización de datos/Day05-diverging/sales_data.csv"
# Guardar el data frame en formato CSV sin comillas en los encabezados ni datos
write.csv(sales_data, ruta, row.names = FALSE, quote = FALSE, fileEncoding = "UTF-8")
# Cargar las bibliotecas necesarias
library(ggplot2)
library(dplyr)
# Leer el archivo CSV desde el enlace
url <- "https://github.com/Rodrigojaure92/30daychartchallenge/raw/refs/heads/main/Day05-diverging/sales_data.csv"
sales_data <- read.csv(url)
# Asegurarnos de que las columnas sean numéricas y la fecha sea reconocida
sales_data$Month <- as.Date(sales_data$Month, format = "%Y-%m-%d")
sales_data$Proyectadas <- as.numeric(sales_data$Proyectadas)
sales_data$Realizadas <- as.numeric(sales_data$Realizadas)
# Calcular la divergencia entre ventas realizadas y proyectadas
sales_data <- sales_data %>%
mutate(Divergencia = Realizadas - Proyectadas)
# Graficar las ventas proyectadas vs realizadas con áreas de divergencia
ggplot(sales_data, aes(x = Month)) +
geom_line(aes(y = Proyectadas, color = "Proyectadas"), size = 1.2) +
geom_line(aes(y = Realizadas, color = "Realizadas"), size = 1.2) +
geom_ribbon(aes(ymin = pmin(Proyectadas, Realizadas),
ymax = pmax(Proyectadas, Realizadas),
fill = ifelse(Divergencia > 0, "Exceso", "Déficit")),
alpha = 0.3) +
scale_color_manual(values = c("Proyectadas" = "blue", "Realizadas" = "green")) +
scale_fill_manual(values = c("Exceso" = "green", "Déficit" = "red")) +
labs(title = "Comparación de Ventas Realizadas vs Proyectadas",
x = "Mes",
y = "Ventas",
color = "Línea",
fill = "Divergencia") +
theme_minimal() +
theme(legend.position = "top")
# Cargar las bibliotecas necesarias
library(ggplot2)
library(dplyr)
# Leer el archivo CSV desde el enlace
url <- "https://github.com/Rodrigojaure92/30daychartchallenge/raw/refs/heads/main/Day05-diverging/sales_data.csv"
sales_data <- read.csv(url)
# Asegurarnos de que las columnas sean numéricas y la fecha sea reconocida
sales_data$Month <- as.Date(sales_data$Month, format = "%Y-%m-%d")
sales_data$Proyectadas <- as.numeric(sales_data$Proyectadas)
sales_data$Realizadas <- as.numeric(sales_data$Realizadas)
# Calcular la divergencia entre ventas realizadas y proyectadas
sales_data <- sales_data %>%
mutate(Divergencia = Realizadas - Proyectadas)
# Graficar las ventas proyectadas vs realizadas con áreas de divergencia
ggplot(sales_data, aes(x = Month)) +
geom_line(aes(y = Proyectadas, color = "Proyectadas"), size = 1.2) +
geom_line(aes(y = Realizadas, color = "Realizadas"), size = 1.2) +
geom_ribbon(aes(ymin = pmin(Proyectadas, Realizadas),
ymax = pmax(Proyectadas, Realizadas),
fill = ifelse(Divergencia > 0, "Exceso", "Déficit")),
alpha = 0.3) +
scale_color_manual(values = c("Proyectadas" = "blue", "Realizadas" = "green")) +
scale_fill_manual(values = c("Exceso" = "green", "Déficit" = "red")) +
labs(title = "Comparación de Ventas Realizadas vs Proyectadas Maria's store",
x = "Mes",
y = "Ventas",
color = "Línea",
fill = "Divergencia") +
theme_minimal() +
theme(legend.position = "top")
